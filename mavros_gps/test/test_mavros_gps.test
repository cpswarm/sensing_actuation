<?xml version="1.0"?>
<launch>

    <!-- Increase verbosity level -->
    <env name="ROSCONSOLE_CONFIG_FILE" value="$(find area_provider)/test/rosconsole.config" />

    <!-- PX4 SITL and Gazebo vehicle spawn URDF -->
    <include file="$(find px4)/launch/single_vehicle_spawn.launch">
        <arg name="ID" value="0" />
    </include>

    <!-- MAVROS -->
    <include file="$(find mavros)/launch/px4.launch">
        <arg name="fcu_url" value="udp://:14540@localhost:14580" />
    </include>

    <!-- GPS node -->
    <node pkg="mavros_gps" type="mavros_gps" name="mavros_gps" output="screen" required="true">
        <rosparam file="$(find mavros_gps)/param/mavros_gps.yaml" command="load" />
    </node>

    <!-- Node unit test GPS services -->
    <test pkg="mavros_gps" type="test_mavros_gps" test-name="test_mavros_gps" required="true" />

</launch>
